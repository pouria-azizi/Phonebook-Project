{% load static %}
<html>
<head>
    <title>دفترچه تلفن</title>
    <script src="{% static 'js/jquery-3.6.0.js' %}"></script>
    <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet">

</head>
<body>

<nav class="navbar navbar-expand-lg navbar-light bg-info">
    {% if user.is_authenticated %}

        <a class="navbar-brand" href={% url 'phones:show-add-entry-form' %}>Create Contact</a>

        <a class="navbar-brand" href={% url 'phones:search' %}>Search</a>

        <a class="navbar-brand" href={% url 'phones:contacts' %}>My Contact</a>

        <a class="navbar-brand" href="">Activities</a>
    {% endif %}
    <ul class="navbar-nav ml-auto">
        {% if not user.is_authenticated %}
            <a class="navbar-brand" href={% url 'users:login' %}>Login</a>
        {% endif %}
        {% if user.is_authenticated %}
            <a class="navbar-brand" style="color: #c80000" href="{% url 'users:logout' %}">Logout</a>
        {% endif %}
        {% if user.is_authenticated %}
            <a class="navbar-brand" href="{% url 'users:edit-profile' %}">{{ user.username }}</a>
        {% endif %}
    </ul>
</nav>

<div class="container" style="background-color: #7abaff">
<h1 class="mt-5 mb-4">New Contact:</h1>
<form>
    {{ form.as_table }}
</form>
<button id="send-form" class="btn btn-primary mb-5">Send</button>
    </div>
</body>
<script>
    $(document).ready(function () {
        $('#send-form').on('click', function (event) {
            var first_name = $('#id_name').val();
            var last_name = $('#id_last_name').val();
            var phone_number = $('#id_phone_number').val();
            $.ajax({
                url: '{% url "phones:create" %}',
                method: 'POST',
                data: {
                    name: first_name,
                    last_name: last_name,
                    phone_number: phone_number
                },
                success: function (response) {
                    alert('با موفقیت ذخیره شد.');
                },
                error: function (response) {
                    alert('اطلاعات وارد شده صحیح نیست.');
                }
            });
        });
    });
</script>
</html>

{##}
{#{% extends 'phones/base.html' %}#}
{#{% block page_header_title %}#}
{#    Create Contact#}
{#{% endblock %}#}
{#{% block content %}#}
{#    <div class="limiter">#}
{#        <div class="container-login100" style="background-color: #0f6674">#}
{#            <div class="col-md-3">#}
{##}
{#                <div class="panel-heading">#}
{#                    <div class="panel-title" style="color: white">New Contact</div>#}
{#                </div>#}
{#                <div style="padding-top:30px" class="panel-body">#}
{##}
{#                    <form>#}
{#                        {% csrf_token %}#}
{#                        <div class="form-group">#}
{#                            <label for="name" style="color: white">UserName</label>#}
{#                            <input id="name" name="name" class="form-control">#}
{#                        </div>#}
{##}
{#                        <div class="form-group">#}
{#                            <label for="last_name" style="color: white">LastName</label>#}
{#                            <input type="text" id="last_name" name="last_name" class="form-control">#}
{#                        </div>#}
{##}
{#                        <div class="form-group">#}
{#                            <label for="phone_number" style="color: white"> PhoneNumber</label>#}
{#                            <input type="number" maxlength="11" id="phone_number" name="phone_number" class="form-control">#}
{#                        </div>#}
{##}
{#                    </form>#}
{#                    <div class="mt-3">#}
{#                        <button id="send-form" class="btn btn-primary">Send</button>#}
{##}
{##}
{#                    </div>#}
{#                    <form>#}
{#                        {{ form.as_table }}#}
{#                    </form>#}
{#                    <button id="send-form" class="btn btn-primary">Send</button>#}
{##}
{#                </div>#}
{#            </div>#}
{#        </div>#}
{#    </div>#}
{#{% endblock %}#}
{#{% block page-scripts %}#}
{#    <script>#}
{#        $(document).ready(function () {#}
{#            $('#send-form').on('click', function (event) {#}
{#                var first_name = $('#name').val();#}
{#                var last_name = $('#last_name').val();#}
{#                var phone_number = $('#phone_number').val();#}
{#                $.ajax({#}
{#                    url: '{% url "phones:create" %}',#}
{#                    method: 'POST',#}
{#                    data: {#}
{#                        name: first_name,#}
{#                        last_name: last_name,#}
{#                        phone_number: phone_number#}
{#                    },#}
{#                    success: function (response) {#}
{#                        alert('با موفقیت ذخیره شد.');#}
{#                    },#}
{#                    error: function (response) {#}
{#                        alert('اطلاعات وارد شده صحیح نیست.');#}
{#                    }#}
{#                });#}
{#            });#}
{#        });#}
{#    </script>#}
{#{% endblock %}#}


{##}
{#{% extends 'phones/base.html' %}#}
{#{% load static %}#}
{#{% block page_header_title %}#}
{#    Create Contact#}
{#{% endblock %}#}
{#{% block content %}#}
{##}
{#    <div class="container" style="background-color: #7abaff">#}
{#        <div class="panel-heading">#}
{#            <div class="panel-title mb-3" style="color: black">New Contact:</div>#}
{#        </div>#}
{#        <div class="panel-body">#}
{##}
{#            <form method="post">#}
{#                {{ form.as_table }}#}
{#            </form>#}
{#            <button id="send-form" class="btn btn-primary mt-2 mb-2">Send</button>#}
{##}
{#        </div>#}
{#    </div>#}
{#{% endblock %}#}
{#{% block page-scripts %}#}
{#    <script>#}
{#        $(document).ready(function () {#}
{#            $('#send-form').on('click', function (event) {#}
{#                var first_name = $('#id_name').val();#}
{#                var last_name = $('#id_last_name').val();#}
{#                var phone_number = $('#id_phone_number').val();#}
{#                $.ajax({#}
{#                    url: '{% url "phones:create" %}',#}
{#                    method: 'POST',#}
{#                    data: {#}
{#                        name: first_name,#}
{#                        last_name: last_name,#}
{#                        phone_number: phone_number#}
{#                    },#}
{#                    success: function (response) {#}
{#                        alert('با موفقیت ذخیره شد.');#}
{#                    },#}
{#                    error: function (response) {#}
{#                        alert('اطلاعات وارد شده صحیح نیست.');#}
{#                    }#}
{#                });#}
{#            });#}
{#        });#}
{#    </script>#}
{#{% endblock %}#}
